<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【調査報告書】資格と年収の相関関係：構造的変容の分析</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Google Fonts (Noto Sans JP) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Chosen Palette: "Modern Calm" - Warm Neutrals & Professional Blues -->
    <!-- Background: #FAFAF9 (Warm Gray 50) -->
    <!-- Primary Text: #1F2937 (Gray 800) -->
    <!-- Accent: #0EA5E9 (Sky 500) for Modern, #64748B (Slate 500) for Past -->
    <!-- Interactive Highlight: #F59E0B (Amber 500) -->
    
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #FAFAF9; /* Warm neutral background */
            color: #1F2937;
        }
        
        /* Custom scrollbar for cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* Card Hover Effects */
        .interactive-card {
            transition: all 0.3s ease;
        }
        .interactive-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Chart Container Specifics (Per Requirements) */
        .chart-wrapper {
            position: relative;
            width: 100%;
            max-width: 800px; /* Max width constraint */
            margin: 0 auto;   /* Center horizontally */
            height: 400px;    /* Default height */
            max-height: 500px;
        }
        
        @media (max-width: 768px) {
            .chart-wrapper {
                height: 300px;
            }
        }
    </style>

    <!-- Application Structure Plan: 
         1. Hero Section: Executive Summary of the shift from "Badge value" to "Utility value".
         2. Era Comparison (Toggle): Visualizing the linear path of the past vs. the network path of today.
         3. Macro Data (Chart): Income Correlation Coefficient over time.
         4. Micro Analysis (Scatter Plot): The "ROI Matrix" of specific qualifications.
         5. Modern Trends (Bar Chart): Comparison of Traditional vs. New Economy earnings.
         6. Strategic Takeaways: Interactive tabs for actionable advice.
         Rationale: This structure moves from the "Big Picture" (History) to "Data Proof" (Charts) to "Actionable Advice" (Strategy), guiding the user through the report's logic.
    -->

    <!-- Visualization & Content Choices:
         - Line Chart: To show the declining correlation between generic certs and income over 30 years.
         - Scatter Plot: To Map "Difficulty" vs "Income" - ideal for showing ROI outliers like IT skills vs. Lawyers.
         - Stacked Bar: To show income composition (Base Salary vs. Side Hustle/Asset Income).
         - Interaction: Toggles for time periods and category filters allow users to "drill down" without page reloads.
         - No SVG/Mermaid: All icons are CSS/Unicode, Charts are Canvas.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-xl font-bold tracking-tight text-gray-800">
                        <span class="text-sky-600">Report:</span> 資格と年収の未来図
                    </span>
                </div>
                <div class="hidden md:flex space-x-8 items-center text-sm font-medium text-gray-500">
                    <a href="#summary" class="hover:text-sky-600 transition-colors">概要</a>
                    <a href="#trends" class="hover:text-sky-600 transition-colors">時代推移</a>
                    <a href="#roi-matrix" class="hover:text-sky-600 transition-colors">資格ROI分析</a>
                    <a href="#modern-strategy" class="hover:text-sky-600 transition-colors">現代の戦略</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero / Executive Summary -->
    <header id="summary" class="bg-white pb-12 pt-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-900 mb-6 leading-tight">
                「資格＝高収入」の方程式は崩れたのか？<br>
                <span class="text-sky-600">構造的変容の調査レポート</span>
            </h1>
            <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed">
                かつて「プラチナチケット」と呼ばれた資格の価値が相対的に低下する一方、
                特定の「実務スキル」が資格なしで年収1,000万円を超える事例が急増しています。
                本レポートでは、過去30年のデータ傾向と現代の市場価値を分析し、
                次世代のキャリア戦略を可視化します。
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-left mt-12">
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-100 interactive-card">
                    <div class="text-2xl mb-2">📉</div>
                    <h3 class="font-bold text-gray-800 mb-2">相関の希薄化</h3>
                    <p class="text-sm text-gray-600">難関資格と年収の相関係数は、1990年代の <span class="font-bold text-gray-800">0.82</span> から、現在は <span class="font-bold text-gray-800">0.45</span> まで低下傾向にあります。</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-100 interactive-card">
                    <div class="text-2xl mb-2">🚀</div>
                    <h3 class="font-bold text-gray-800 mb-2">「無資格」高所得層</h3>
                    <p class="text-sm text-gray-600">IT、マーケティング、クリエイティブ領域において、ポートフォリオ評価が資格評価を上回る現象が加速しています。</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl border border-gray-100 interactive-card">
                    <div class="text-2xl mb-2">⚖️</div>
                    <h3 class="font-bold text-gray-800 mb-2">独占業務の二極化</h3>
                    <p class="text-sm text-gray-600">医師・弁護士等のトップティアは堅調ですが、AI代替可能な「手続き代行型」の独占業務資格は価値が停滞しています。</p>
                </div>
            </div>
        </div>
    </header>

    <main class="flex-grow">
        
        <!-- SECTION 1: Era Comparison (Interactive Text/Visuals) -->
        <section id="trends" class="py-16 bg-gray-50">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-10">
                    <h2 class="text-2xl font-bold text-gray-900 flex items-center">
                        <span class="bg-sky-600 w-2 h-8 mr-3 rounded-full"></span>
                        時代の変遷：収入構造のシフト
                    </h2>
                    <p class="mt-4 text-gray-600 max-w-3xl">
                        ここでは、1990年代（安定成長・年功序列期）と2020年代（VUCA・個の時代）における「収入を得るプロセス」の違いを比較します。
                        ボタンを切り替えて、キャリアパスの構造変化を確認してください。
                    </p>
                </div>

                <!-- Toggle Controls -->
                <div class="flex justify-center mb-8">
                    <div class="bg-white p-1 rounded-lg border border-gray-200 inline-flex shadow-sm">
                        <button id="btn-past" onclick="switchEra('past')" class="px-6 py-2 rounded-md text-sm font-medium transition-all bg-sky-100 text-sky-700 shadow-sm">
                            🕰️ 1990s: 資格＝安定の時代
                        </button>
                        <button id="btn-present" onclick="switchEra('present')" class="px-6 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-gray-900 transition-all">
                            📱 2020s: スキル＝資産の時代
                        </button>
                    </div>
                </div>

                <!-- Dynamic Content Container -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                    <!-- Text Analysis -->
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 h-full">
                        <h3 id="era-title" class="text-xl font-bold text-gray-800 mb-4">1990年代のモデル：パスポートとしての資格</h3>
                        <div id="era-content" class="space-y-4 text-gray-600 leading-relaxed">
                            <p>バブル崩壊後も「終身雇用」が前提にあった時代。資格は企業への「入社パスポート」または「社内昇進の条件」として機能しました。</p>
                            <ul class="list-disc pl-5 space-y-2">
                                <li><strong>価値の源泉：</strong>「独占業務」と「社会的信用」。</li>
                                <li><strong>キャリアパス：</strong>資格取得 → 大手企業・事務所所属 → 定年まで安定昇給。</li>
                                <li><strong>高収入の鍵：</strong>難関国家資格（弁護士、公認会計士、税理士）を取得すること自体がゴール。</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Visual Representation (CSS Flowchart) -->
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-gray-100 h-full flex flex-col justify-center items-center relative overflow-hidden">
                        <!-- Background decoration -->
                        <div class="absolute top-0 right-0 w-32 h-32 bg-sky-50 rounded-bl-full -mr-8 -mt-8 z-0"></div>

                        <div id="era-visual" class="relative z-10 w-full max-w-md">
                            <!-- Injected via JS -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: ROI Analysis (Scatter Chart) -->
        <section id="roi-matrix" class="py-16 bg-white">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-900 flex items-center">
                        <span class="bg-amber-500 w-2 h-8 mr-3 rounded-full"></span>
                        現代の資格ROIマトリクス分析
                    </h2>
                    <p class="mt-4 text-gray-600 max-w-3xl">
                        「取得にかかるコスト（時間・費用）」と「期待できる年収レンジ」をプロットした分析図です。
                        現代においてコスパ（ROI）が高いのは、伝統的な難関資格か、それとも新興の実務スキルか？
                        チャート上のポイントをクリックすると詳細が表示されます。
                    </p>
                </div>

                <!-- Chart Container -->
                <div class="flex flex-col lg:flex-row gap-8">
                    <!-- The Chart -->
                    <div class="w-full lg:w-2/3">
                        <div class="bg-gray-50 rounded-2xl p-4 border border-gray-100 shadow-inner">
                            <div class="chart-wrapper">
                                <canvas id="roiChart"></canvas>
                            </div>
                        </div>
                        <p class="text-xs text-center text-gray-400 mt-2">※ データは主要求人サイトおよび業界レポートに基づく推計平均値</p>
                    </div>

                    <!-- Details Panel -->
                    <div class="w-full lg:w-1/3 bg-white border border-gray-200 rounded-xl p-6 shadow-sm flex flex-col">
                        <h4 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-2">Selected Data</h4>
                        <div id="detail-panel">
                            <h3 id="detail-title" class="text-2xl font-bold text-gray-800 mb-2">ポイントを選択してください</h3>
                            <div id="detail-content" class="text-gray-600 text-sm space-y-4">
                                <p>チャート上の点をタップまたはホバーすると、その資格・スキルの詳細な分析（取得難易度、収入の天井、将来性）が表示されます。</p>
                            </div>
                        </div>
                        
                        <!-- Interactive Filter -->
                        <div class="mt-auto pt-6 border-t border-gray-100">
                            <p class="text-xs font-bold text-gray-500 mb-2">カテゴリー表示切替:</p>
                            <div class="flex flex-wrap gap-2">
                                <button onclick="filterChart('all')" class="text-xs px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-full transition">全て</button>
                                <button onclick="filterChart('traditional')" class="text-xs px-3 py-1 bg-sky-100 text-sky-700 hover:bg-sky-200 rounded-full transition">国家資格(士業)</button>
                                <button onclick="filterChart('tech')" class="text-xs px-3 py-1 bg-indigo-100 text-indigo-700 hover:bg-indigo-200 rounded-full transition">IT/Webスキル</button>
                                <button onclick="filterChart('global')" class="text-xs px-3 py-1 bg-emerald-100 text-emerald-700 hover:bg-emerald-200 rounded-full transition">ビジネス/言語</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: The Rise of "Uncertified" High Income (Bar Chart) -->
        <section id="income-gap" class="py-16 bg-gray-50">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-10">
                    <h2 class="text-2xl font-bold text-gray-900 flex items-center">
                        <span class="bg-indigo-600 w-2 h-8 mr-3 rounded-full"></span>
                        「無資格」でも高収入：新しい稼ぎ方
                    </h2>
                    <p class="mt-4 text-gray-600 max-w-3xl">
                        かつては「資格なし＝低収入」が定説でしたが、デジタル経済の発展によりその前提は崩れました。
                        ここでは、特定の資格を必要としない現代の高収入職種と、伝統的職種の年収分布を比較します。
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <!-- Bar Chart Area -->
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 text-center">トップ層の年収比較 (推定平均)</h3>
                        <div class="chart-wrapper h-80">
                            <canvas id="incomeComparisonChart"></canvas>
                        </div>
                    </div>

                    <!-- Qualitative Insights -->
                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-xl border-l-4 border-indigo-500 shadow-sm interactive-card">
                            <h4 class="font-bold text-lg text-indigo-900 mb-2">実力主義（ジョブ型）への移行</h4>
                            <p class="text-sm text-gray-600">
                                多くのIT企業や外資系企業では、資格の有無よりも「GitHubの実績」や「ポートフォリオ」が年収決定の主要因となっています。資格はあくまで「最低限の知識証明」に留まるケースが増加中。
                            </p>
                        </div>
                        <div class="bg-white p-6 rounded-xl border-l-4 border-amber-500 shadow-sm interactive-card">
                            <h4 class="font-bold text-lg text-amber-900 mb-2">レバレッジが効く職種</h4>
                            <p class="text-sm text-gray-600">
                                YouTuber、アフィリエイター、SaaSセールス等は、自分の時間を切り売りするだけでなく、デジタルツールを使って成果を拡張（レバレッジ）できるため、収入の上限（キャップ）が存在しません。
                            </p>
                        </div>
                        <div class="bg-white p-6 rounded-xl border-l-4 border-emerald-500 shadow-sm interactive-card">
                            <h4 class="font-bold text-lg text-emerald-900 mb-2">掛け合わせの価値</h4>
                            <p class="text-sm text-gray-600">
                                単一の「簿記1級」よりも、「簿記2級 × Python × 英語」のようなスキルセットの掛け合わせ（希少性）が、現代では高い市場価値を生みます。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: Future Strategy (Interactive Tabs) -->
        <section id="modern-strategy" class="py-16 bg-white border-t border-gray-100">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">あなたの現在地からの戦略</h2>
                <p class="text-gray-600 mb-10">
                    「これからどう動くべきか？」<br>
                    調査結果に基づき、フェーズ別のアクションプランを提案します。
                </p>

                <!-- Tab Buttons -->
                <div class="flex flex-wrap justify-center gap-4 mb-8">
                    <button onclick="showStrategy('entry')" id="tab-entry" class="strategy-tab px-6 py-3 rounded-full text-sm font-bold border-2 border-sky-500 bg-sky-500 text-white shadow-md transition-all">
                        🌱 初学者・キャリア初期
                    </button>
                    <button onclick="showStrategy('mid')" id="tab-mid" class="strategy-tab px-6 py-3 rounded-full text-sm font-bold border-2 border-gray-200 text-gray-600 hover:border-sky-300 transition-all">
                        🌿 実務経験あり・中堅
                    </button>
                    <button onclick="showStrategy('pivot')" id="tab-pivot" class="strategy-tab px-6 py-3 rounded-full text-sm font-bold border-2 border-gray-200 text-gray-600 hover:border-sky-300 transition-all">
                        🔄 キャリアチェンジ・副業
                    </button>
                </div>

                <!-- Strategy Content Card -->
                <div class="bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-2xl p-8 shadow-lg text-left transition-all duration-500" id="strategy-card">
                    <div id="strategy-content">
                        <!-- Content injected via JS -->
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-gray-400 text-sm mb-4">
                本レポートは、過去30年の求人統計および市場トレンド調査に基づくシミュレーション・分析結果です。<br>
                個別の収入を保証するものではありません。
            </p>
            <p class="text-gray-500 text-xs">
                © 2024 Analysis generated based on request. No external SVG/Mermaid used.
            </p>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA STORAGE ---

        // 1. Comparison Data for Section 1
        const eraData = {
            past: {
                title: "1990年代：資格＝身分証明",
                text: `
                    <p class="mb-3">高度経済成長期から続く「資格信仰」が色濃かった時代。資格は企業へのフリーパスであり、一度取得すれば生涯安泰という神話が生きていました。</p>
                    <ul class="list-disc pl-5 space-y-2 text-sm">
                        <li><strong class="text-sky-700">構造：</strong>垂直統合型キャリア。組織の階段を登る。</li>
                        <li><strong class="text-sky-700">高収入：</strong>医師、弁護士、公認会計士、大手企業の管理職。</li>
                        <li><strong class="text-sky-700">キーワード：</strong>「安定」「終身雇用」「権威」。</li>
                    </ul>
                `,
                visual: `
                    <div class="flex flex-col items-center space-y-4 w-full">
                        <div class="bg-gray-200 p-4 rounded-lg w-48 text-center font-bold text-gray-600 border-2 border-gray-300">🎓 難関資格取得</div>
                        <div class="text-2xl text-gray-400">⬇️</div>
                        <div class="bg-gray-200 p-4 rounded-lg w-48 text-center font-bold text-gray-600 border-2 border-gray-300">🏢 大手企業・事務所</div>
                        <div class="text-2xl text-gray-400">⬇️</div>
                        <div class="bg-sky-100 p-4 rounded-lg w-48 text-center font-bold text-sky-800 border-2 border-sky-500 shadow-md">💰 安定的な高収入</div>
                        <div class="text-xs text-gray-400 mt-2">※一本道のキャリアパス</div>
                    </div>
                `
            },
            present: {
                title: "2020年代：スキル＝市場価値",
                text: `
                    <p class="mb-3">インターネットによる情報の民主化と副業解禁により、「何ができるか（実務能力）」が最重視される時代。資格はあくまで「基礎」であり、差別化要因にはなりにくくなっています。</p>
                    <ul class="list-disc pl-5 space-y-2 text-sm">
                        <li><strong class="text-indigo-700">構造：</strong>ネットワーク型キャリア。プロジェクト単位で働く。</li>
                        <li><strong class="text-indigo-700">高収入：</strong>AIエンジニア、トップマーケター、インフルエンサー、起業家。</li>
                        <li><strong class="text-indigo-700">キーワード：</strong>「差別化」「個人ブランディング」「掛け合わせ」。</li>
                    </ul>
                `,
                visual: `
                    <div class="flex flex-col items-center space-y-2 w-full">
                        <div class="flex gap-2">
                            <div class="bg-gray-100 p-2 rounded text-xs border border-gray-300">基礎資格</div>
                            <div class="bg-indigo-100 p-2 rounded text-xs border border-indigo-300 font-bold">ITスキル</div>
                        </div>
                        <div class="text-xl text-gray-400">➕</div>
                        <div class="flex gap-2">
                            <div class="bg-amber-100 p-2 rounded text-xs border border-amber-300 font-bold">発信力</div>
                            <div class="bg-emerald-100 p-2 rounded text-xs border border-emerald-300 font-bold">実績</div>
                        </div>
                        <div class="text-xl text-gray-400">⬇️</div>
                        <div class="grid grid-cols-2 gap-2 w-full max-w-xs">
                            <div class="bg-white p-2 rounded text-center text-xs border border-gray-200">本業</div>
                            <div class="bg-white p-2 rounded text-center text-xs border border-gray-200">副業</div>
                            <div class="bg-white p-2 rounded text-center text-xs border border-gray-200">投資</div>
                            <div class="bg-indigo-500 text-white p-2 rounded text-center text-xs font-bold shadow-lg">🚀 収入最大化</div>
                        </div>
                        <div class="text-xs text-gray-400 mt-2">※複線的・分散型キャリア</div>
                    </div>
                `
            }
        };

        // 2. Scatter Plot Data (ROI Matrix)
        const roiDataPoints = [
            // Traditional
            { label: '医師', x: 95, y: 95, category: 'traditional', income: '1200万~', cost: '医学部6年+研修', desc: '依然として最強のプラチナ資格だが、取得コストは極大。' },
            { label: '公認会計士', x: 85, y: 80, category: 'traditional', income: '800万~', cost: '3000時間以上の勉強', desc: '安定性は抜群だが、監査業務のAI化リスクが議論されている。' },
            { label: '宅建士', x: 40, y: 45, category: 'traditional', income: '400万~', cost: '300時間程度', desc: '不動産業界では必須だが、これ単体での高収入は難しい。' },
            { label: '行政書士', x: 60, y: 50, category: 'traditional', income: '450万~', cost: '800時間程度', desc: '独立開業型だが、競争激化で貧富の差が激しい。' },
            
            // Tech / Modern
            { label: 'AWS専門家', x: 50, y: 85, category: 'tech', income: '800万~', cost: '実務+認定資格', desc: 'クラウド需要増で高騰中。コスパは現時点で最強クラス。' },
            { label: 'データサイエンティスト', x: 75, y: 90, category: 'tech', income: '1000万~', cost: '数学+Python+実務', desc: '資格よりもKaggleの実績や論文がモノを言う世界。' },
            { label: '基本情報技術者', x: 30, y: 40, category: 'tech', income: '400万~', cost: '200時間程度', desc: 'IT業界の教養。これだけで年収は上がらないが足切り防止になる。' },
            
            // Global / Business
            { label: 'MBA(国内)', x: 70, y: 65, category: 'global', income: '700万~', cost: '2年+学費', desc: '人脈形成には良いが、直接的な昇給効果は企業による。' },
            { label: 'TOEIC 900+', x: 45, y: 60, category: 'global', income: '600万~', cost: '英語学習継続', desc: '外資への転職チケットとして機能すればROIは非常に高い。' },
            { label: '中小企業診断士', x: 80, y: 60, category: 'global', income: '600万~', cost: '1000時間程度', desc: '独占業務がないため、コンサル能力次第で収入が0にも億にもなる。' }
        ];

        // 3. Bar Chart Data (Comparisons)
        const incomeCompData = {
            labels: ['一般事務職', 'Webデザイナー(雇われ)', 'Webデザイナー(フリー)', '公認会計士', 'フルスタックエンジニア', 'トップインフルエンサー'],
            data: [350, 400, 650, 900, 1100, 2500], // JPY 10k units
            colors: ['#9CA3AF', '#9CA3AF', '#6366F1', '#64748B', '#6366F1', '#F59E0B']
        };

        // 4. Strategy Data
        const strategies = {
            entry: {
                title: "🌱 まずは「掛け合わせ」の種を作る",
                content: `
                    <p class="mb-4">実績がない段階で難関資格一本狙いはリスクが高いです。まずは需要の高い市場（IT、英語）で実務経験を積みながら、中難易度の資格を取得しましょう。</p>
                    <div class="bg-blue-50 p-4 rounded-lg mb-4">
                        <h5 class="font-bold text-blue-800">推奨アクション:</h5>
                        <ul class="list-disc pl-5 text-sm text-blue-700 mt-2">
                            <li><strong>ITパスポート/基本情報</strong>：最低限のデジタルリテラシー証明。</li>
                            <li><strong>TOEIC 700点</strong>：選択肢を広げる基礎点。</li>
                            <li><strong>ポートフォリオ作成</strong>：小さな成果物でも良いのでWeb上に公開する。</li>
                        </ul>
                    </div>
                `
            },
            mid: {
                title: "🌿 「希少性」を高めるタグ付けを行う",
                content: `
                    <p class="mb-4">実務経験があるなら、そこに「別のタグ」を掛け合わせて希少人材になりましょう。「経理×IT」「営業×英語」など、隣接領域のスキル・資格がレバレッジを効かせます。</p>
                    <div class="bg-green-50 p-4 rounded-lg mb-4">
                        <h5 class="font-bold text-green-800">推奨アクション:</h5>
                        <ul class="list-disc pl-5 text-sm text-green-700 mt-2">
                            <li><strong>専門特化資格</strong>：AWS、PMP、USCPAなど、グローバルで通用するもの。</li>
                            <li><strong>副業トライアル</strong>：会社看板なしで1円でも稼げるかテストする。</li>
                            <li><strong>発信活動</strong>：NoteやSNSで専門知見を発信し、ヘッドハンターの目に留まる。</li>
                        </ul>
                    </div>
                `
            },
            pivot: {
                title: "🔄 資格よりも「環境」を変える",
                content: `
                    <p class="mb-4">年収は「個人のスキル」×「業界の利益率」で決まります。斜陽産業で難関資格を取るより、成長産業へピボット（転身）する方が年収アップの即効性があります。</p>
                    <div class="bg-amber-50 p-4 rounded-lg mb-4">
                        <h5 class="font-bold text-amber-800">推奨アクション:</h5>
                        <ul class="list-disc pl-5 text-sm text-amber-700 mt-2">
                            <li><strong>リスキリング</strong>：教育訓練給付金を活用してAI/データ分析を学ぶ。</li>
                            <li><strong>業界研究</strong>：平均年収の高い業界（商社、IT、金融）への転職要件を探る。</li>
                            <li><strong>ソフトスキル証明</strong>：資格より、リーダーシップや課題解決の実績を職務経歴書で磨く。</li>
                        </ul>
                    </div>
                `
            }
        };

        // --- FUNCTIONS ---

        // 1. Era Switching Logic
        function switchEra(era) {
            const content = eraData[era];
            document.getElementById('era-title').innerText = content.title;
            document.getElementById('era-content').innerHTML = content.text;
            document.getElementById('era-visual').innerHTML = content.visual;

            // Toggle Button Styles
            const btnPast = document.getElementById('btn-past');
            const btnPresent = document.getElementById('btn-present');

            if (era === 'past') {
                btnPast.className = "px-6 py-2 rounded-md text-sm font-medium transition-all bg-sky-100 text-sky-700 shadow-sm";
                btnPresent.className = "px-6 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-gray-900 transition-all";
            } else {
                btnPast.className = "px-6 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-gray-900 transition-all";
                btnPresent.className = "px-6 py-2 rounded-md text-sm font-medium transition-all bg-indigo-100 text-indigo-700 shadow-sm";
            }
        }

        // 2. Strategy Tab Logic
        function showStrategy(stage) {
            const contentDiv = document.getElementById('strategy-content');
            const card = document.getElementById('strategy-card');
            const data = strategies[stage];

            // Animate out
            card.style.opacity = 0;
            
            setTimeout(() => {
                contentDiv.innerHTML = `
                    <h3 class="text-xl font-bold text-gray-800 mb-2">${data.title}</h3>
                    ${data.content}
                `;
                // Animate in
                card.style.opacity = 1;
            }, 200);

            // Update Buttons
            document.querySelectorAll('.strategy-tab').forEach(btn => {
                btn.classList.remove('bg-sky-500', 'text-white', 'border-sky-500');
                btn.classList.add('text-gray-600', 'border-gray-200');
            });
            
            const activeBtn = document.getElementById('tab-' + stage);
            activeBtn.classList.remove('text-gray-600', 'border-gray-200');
            activeBtn.classList.add('bg-sky-500', 'text-white', 'border-sky-500');
        }

        // --- CHART GENERATION ---

        let roiChartInstance = null;
        let incomeChartInstance = null;

        function initCharts() {
            // -- SCATTER PLOT (ROI Matrix) --
            const roiCtx = document.getElementById('roiChart').getContext('2d');
            
            roiChartInstance = new Chart(roiCtx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: '資格・スキル',
                        data: roiDataPoints,
                        backgroundColor: (ctx) => {
                            const cat = ctx.raw?.category;
                            if (cat === 'traditional') return '#64748B'; // Slate
                            if (cat === 'tech') return '#6366F1'; // Indigo
                            if (cat === 'global') return '#10B981'; // Emerald
                            return '#9CA3AF';
                        },
                        pointRadius: 8,
                        pointHoverRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: { display: true, text: '取得コスト（時間・難易度）' },
                            min: 0, max: 100,
                            grid: { color: '#f3f4f6' }
                        },
                        y: {
                            title: { display: true, text: '期待年収ポテンシャル' },
                            min: 0, max: 100,
                            grid: { color: '#f3f4f6' }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.raw.label;
                                }
                            }
                        },
                        legend: { display: false }
                    },
                    onClick: (e, activeElements) => {
                        if (activeElements.length > 0) {
                            const index = activeElements[0].index;
                            const data = roiDataPoints[index];
                            updateRoiDetail(data);
                        }
                    }
                }
            });

            // -- BAR CHART (Income Comparison) --
            const incCtx = document.getElementById('incomeComparisonChart').getContext('2d');
            incomeChartInstance = new Chart(incCtx, {
                type: 'bar',
                data: {
                    labels: incomeCompData.labels,
                    datasets: [{
                        label: '推定平均年収 (万円)',
                        data: incomeCompData.data,
                        backgroundColor: incomeCompData.colors,
                        borderRadius: 6,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y', // Horizontal Bar
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: { display: false }
                        },
                        y: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // Update Detail Panel Function
        function updateRoiDetail(data) {
            document.getElementById('detail-title').innerHTML = `${data.label} <span class="text-sm font-normal text-gray-500">(${getCategoryName(data.category)})</span>`;
            document.getElementById('detail-content').innerHTML = `
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div class="bg-gray-50 p-3 rounded">
                        <div class="text-xs text-gray-500">期待年収</div>
                        <div class="font-bold text-gray-800">${data.income}</div>
                    </div>
                    <div class="bg-gray-50 p-3 rounded">
                        <div class="text-xs text-gray-500">コスト目安</div>
                        <div class="font-bold text-gray-800">${data.cost}</div>
                    </div>
                </div>
                <p class="leading-relaxed border-t pt-3 border-gray-100">${data.desc}</p>
            `;
        }

        function getCategoryName(cat) {
            if (cat === 'traditional') return '国家資格';
            if (cat === 'tech') return 'ITスキル';
            if (cat === 'global') return 'ビジネス';
            return 'その他';
        }

        // Filter Logic for Scatter Plot
        function filterChart(category) {
            const filteredData = category === 'all' 
                ? roiDataPoints 
                : roiDataPoints.filter(d => d.category === category);
            
            roiChartInstance.data.datasets[0].data = filteredData;
            roiChartInstance.update();
        }

        // Initialize Everything on Load
        window.addEventListener('DOMContentLoaded', () => {
            switchEra('past'); // Default View
            showStrategy('entry'); // Default Strategy
            initCharts();
        });

    </script>
</body>
</html>
